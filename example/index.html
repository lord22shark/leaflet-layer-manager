<!DOCTYPE html>
<html style="width: 100%; height: 100%;">
	<head>

		<meta charset="UTF-8">

		<!-- leaflet -->
		<link rel="stylesheet" href="../node_modules/leaflet/dist/leaflet.css"/>
		<script src="../node_modules/leaflet/dist/leaflet-src.js"></script>
		<script src="../node_modules/leaflet-ajax/dist/leaflet.ajax.js"></script>
		<script src="../lib/jscolor/2.0.4/jscolor.js"></script>

		<script src="http://maps.google.com/maps/api/js?v=3"></script>
		<script src="http://rawgit.com/shramov/leaflet-plugins/master/layer/tile/Google.js"></script>
		<script src="http://rawgit.com/shramov/leaflet-plugins/master/layer/tile/Bing.js"></script>

		<link rel="stylesheet" href="../src/leaflet-layers-manager.css"/>
		<script src="../src/leaflet-layers-manager.js"></script>

	</head>	
	<body style="margin: 0px; border: 0px; padding: 0px; width: 100%; height: inherit;">
		<div id="map" style="width: 100%; height: 100%"></div>
		<script type="text/javascript">

			var host = window.location.host;

			var tree = [
						{
							'name': 'Argila',
							'options': {
								'property': 'prod',
								'classes': 5,
								'chroma': 'RdBl'
							},
							'children': [
								{
									'name': 'Baixa',
									'color': '#FF0000',
									'opacity': 0.8,
									'included': true,
									'url': 'http://' + host + '/geojson/ARG-Baixa.geojson',
									'options': {
										'simplify': 0.01
									}
								},
								{
									'name': 'Média',
									'color': '#FFD900',
									'opacity': 0.8,
									'included': true,
									'url': 'http://' + host + '/geojson/ARG-Media.geojson',
									'options': {
										'simplify': 0.01
									}
								},
								{
									'name': 'Alta',
									'color': '#00D900',
									'opacity': 0.8,
									'included': true,
									'url': 'http://' + host + '/geojson/ARG-Alta.geojson',
									'options': {
										'simplify': 0.01
									}
								}
							]
						},
						{
							'name': 'CTC',
							'options': {
								'property': 'prod',
								'classes': 5,
								'chroma': 'RdBl'
							},
							'children': [
								{
									'name': 'Baixa',
									'color': '#FF0000',
									'opacity': 0.8,
									'included': false,
									'url': 'http://' + host + '/geojson/CTC-Baixa.geojson',
									'options': {
										'simplify': 0.01
									}
								},
								{
									'name': 'Média',
									'color': '#FFD900',
									'opacity': 0.8,
									'included': false,
									'url': 'http://' + host + '/geojson/CTC-Media.geojson',
									'options': {
										'simplify': 0.01
									}
								},
								{
									'name': 'Alta',
									'color': '#00D900',
									'opacity': 0.8,
									'included': false,
									'url': 'http://' + host + '/geojson/CTC-Alta.geojson',
									'options': {
										'simplify': 0.01
									}
								}
							]
						},
						{
							'name': 'Potássio',
							'options': {
								'property': 'prod',
								'classes': 5,
								'chroma': 'RdBl'
							},
							'children': [
								{
									'name': 'Baixa',
									'color': '#FF0000',
									'opacity': 0.8,
									'included': false,
									'url': 'http://' + host + '/geojson/K-Baixa.geojson',
									'options': {
										'simplify': 0.01
									}
								},
								{
									'name': 'Média',
									'color': '#FFD900',
									'opacity': 0.8,
									'included': false,
									'url': 'http://' + host + '/geojson/K-Media.geojson',
									'options': {
										'simplify': 0.01
									}
								},
								{
									'name': 'Alta',
									'color': '#00D900',
									'opacity': 0.8,
									'included': false,
									'url': 'http://' + host + '/geojson/K-Alta.geojson',
									'options': {
										'simplify': 0.01
									}
								}
							]
						},
						{
							'name': 'Matéria Orgânica',
							'options': {
								'property': 'prod',
								'classes': 5,
								'chroma': 'RdBl'
							},
							'children': [
								{
									'name': 'Baixa',
									'color': '#FF0000',
									'opacity': 0.8,
									'included': false,
									'url': 'http://' + host + '/geojson/MO-Baixa.geojson',
									'options': {
										'simplify': 0.01
									}
								},
								{
									'name': 'Média',
									'color': '#FFD900',
									'opacity': 0.8,
									'included': false,
									'url': 'http://' + host + '/geojson/MO-Media.geojson',
									'options': {
										'simplify': 0.01
									}
								},
								{
									'name': 'Alta',
									'color': '#00D900',
									'opacity': 0.8,
									'included': false,
									'url': 'http://' + host + '/geojson/MO-Alta.geojson',
									'options': {
										'simplify': 0.01
									}
								}
							]
						},
						{
							'name': 'Fósforo',
							'options': {
								'property': 'prod',
								'classes': 5,
								'chroma': 'RdBl'
							},
							'children': [
								{
									'name': 'Baixa',
									'color': '#FF0000',
									'opacity': 0.8,
									'included': false,
									'url': 'http://' + host + '/geojson/P-Baixa.geojson',
									'options': {
										'simplify': 0.01
									}
								},
								{
									'name': 'Média',
									'color': '#FFD900',
									'opacity': 0.8,
									'included': false,
									'url': 'http://' + host + '/geojson/P-Media.geojson',
									'options': {
										'simplify': 0.01
									}
								},
								{
									'name': 'Alta',
									'color': '#00D900',
									'opacity': 0.8,
									'included': false,
									'url': 'http://' + host + '/geojson/P-Alta.geojson',
									'options': {
										'simplify': 0.01
									}
								}
							]
						},
						{
							'name': 'Produtividade',
							'options': {
								'property': 'prod',
								'classes': 5,
								'chroma': 'RdBl'
							},
							'children': [
								{
									'name': 'Baixa',
									'color': '#FF0000',
									'opacity': 0.8,
									'included': false,
									'url': 'http://' + host + '/geojson/PROD-Baixa.geojson',
									'options': {
										'simplify': 0.01
									}
								},
								{
									'name': 'Média',
									'color': '#FFD900',
									'opacity': 0.8,
									'included': false,
									'url': 'http://' + host + '/geojson/PROD-Media.geojson',
									'options': {
										'simplify': 0.01
									}
								},
								{
									'name': 'Alta',
									'color': '#00D900',
									'opacity': 0.8,
									'included': false,
									'url': 'http://' + host + '/geojson/PROD-Alta.geojson',
									'options': {
										'simplify': 0.01
									}
								}
							]
						},
						{
							'name': 'Saturação de Bases',
							'options': {
								'property': 'prod',
								'classes': 5,
								'chroma': 'RdBl'
							},
							'children': [
								{
									'name': 'Baixa',
									'color': '#FF0000',
									'opacity': 0.8,
									'included': false,
									'url': 'http://' + host + '/geojson/V-Baixa.geojson',
									'options': {
										'simplify': 0.01
									}
								},
								{
									'name': 'Média',
									'color': '#FFD900',
									'opacity': 0.8,
									'included': false,
									'url': 'http://' + host + '/geojson/V-Media.geojson',
									'options': {
										'simplify': 0.01
									}
								},
								{
									'name': 'Alta',
									'color': '#00D900',
									'opacity': 0.8,
									'included': false,
									'url': 'http://' + host + '/geojson/V-Alta.geojson',
									'options': {
										'simplify': 0.01
									}
								}
							]
						}
			];

			// BACKUP
			/** var tree = [
				{
					'name': 'Produtividade',
					'children': [
						{
							'name': 'Produtividade Nominal',
							'options': {
								'property': 'prod',
								'classes': 5,
								'chroma': 'RdBl'
							},
							'children': [
								{
									'name': 'Nominal Baixa',
									'color': '#FF0000',
									'opacity': 0.8,
									'included': true,
									'url': 'http://' + host + '/geojson/PROD-Baixa.geojson',
									'options': {
										'simplify': 0.01
									}
								},
								{
									'name': 'Nominal Média',
									'color': '#FFD900',
									'opacity': 0.8,
									'included': true,
									'url': 'http://' + host + '/geojson/PROD-Media.geojson',
									'options': {
										'simplify': 0.01
									}
								},
								{
									'name': 'Nominal Alta',
									'color': '#00D900',
									'opacity': 0.8,
									'included': true,
									'url': 'http://' + host + '/geojson/PROD-Alta.geojson',
									'options': {
										'simplify': 0.01
									}
								}
							]
						},
						{
							'name': 'Produtividade Relativista',
							'options': {
								'property': 'prod',
								'classes': 5,
								'chroma': 'Rainbow'
							},
							'children': [
								{
									'name': 'Relativista Baixa',
									'color': '#FF0000',
									'opacity': 0.8,
									'included': true,
									'url': 'http://' + host + '/geojson/PROD-Baixa.geojson',
									'options': {
										'simplify': 0.01
									}
								},
								{
									'name': 'Relativista Média',
									'color': '#FFD900',
									'opacity': 0.8,
									'included': true,
									'url': 'http://' + host + '/geojson/PROD-Media.geojson',
									'options': {
										'simplify': 0.01
									}
								},
								{
									'name': 'Relativista Alta',
									'color': '#00D900',
									'opacity': 0.8,
									'included': true,
									'url': 'http://' + host + '/geojson/PROD-Alta.geojson',
									'options': {
										'simplify': 0.01
									}
								}
							]
						}
					]
				},
				{
					'name': 'Main Shape',
					'color': '#FFA9D3',
					'opacity': 0.5,
					'included': true,
					'url': 'http://' + host + '/geojson/ARG-Alta.geojson',
					'options': {
						'simplify': 0.01
					}
				}
			];**/

			//------------------------------------------------

			var map = L.map("map");

			map.setView(new L.LatLng(-12.509145478408, -55.6828594569326), 16);

			map.addLayer(new L.Google('SATELLITE'));

			new L.Control.LeafletLayerManager({
				layers: tree
			}).addTo(map);

			/*L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
				attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
			}).addTo(map);*/

			//L.marker([-19.9179904, -43.9286394]).addTo(map).bindPopup('A pretty CSS3 popup.<br> Easily customizable.').openPopup();

		</script>
	</body>
</html>